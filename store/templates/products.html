{% extends 'base.html' %}
{% block content %}

<h2 class="page-title">All Products</h2>

<div class="product-grid">
    {% for product in products %}
    <div class="product-card">

    <!-- Clickable image -->
    <a href="{% url 'product_detail' product.id %}">
        <img src="{{ product.image.url }}" alt="{{ product.name }}">
    </a>

    <!-- Clickable name -->
    <h3>
        <a href="{% url 'product_detail' product.id %}">
            {{ product.name }}
        </a>
    </h3>

    <p>â‚¹{{ product.price }}</p>
    <p>{{ product.description|truncatewords:12 }}</p>

    {% if product.stock > 0 %}
        <a href="{% url 'add_cart' product.id %}" class="btn">
            Add to Cart
        </a>
    {% else %}
        <span class="out-stock">Out of Stock</span>
    {% endif %}

    </div>

    {% empty %}
        <p>No products found.</p>
    {% endfor %}
</div>

{% endblock %}
